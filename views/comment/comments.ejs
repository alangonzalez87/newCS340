<h2>Comments</h2>
<form method="post" action="/comment/comments">
    <textarea name="comment_text" required></textarea>
    <input type="hidden" name="parent_comment_id" value="">
    <input type="hidden" name="comment_author" value="user_id"> <!-- Ajustar para obtener el ID del usuario -->
    <button type="submit">Add Comment</button>
</form>

<% (comments || []).forEach(comment => { %>
    <div>
        <p><%= comment.comment_text %></p>
        <p>Posted : <%= comment.comment_author %> at <%= comment.created_at %></p>

        <form method="post" action="/comment/comments">
            <textarea name="comment_text" required></textarea>
            <input type="hidden" name="parent_comment_id" value="<%= comment.comment_id %>">
            <input type="hidden" name="comment_author" value="account_id"> 
            <button type="submit">Reply</button>
        </form>

        <% if (comment.responses && comment.responses.length > 0) { %>
            <div style="margin-left: 20px;">
                <% comment.responses.forEach(response => { %>
                    <div>
                        <p><%= response.comment_text %></p>
                        <p>Posted : <%= response.comment_author %> at <%= response.created_at %></p>
                    </div>
                <% }) %>
            </div>
        <% } %>
    </div>
<% }) %>

